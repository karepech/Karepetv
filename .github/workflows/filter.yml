name: Multi-Filter M3U Scheduler

on:
  # Penjadwalan menggunakan Cron
  schedule:
    # MENJALANKAN SETIAP 20 MENIT
    # Ini akan berjalan pada menit 0, menit 20, dan menit 40 setiap jam.
    # Waktu ini menggunakan UTC (Universal Time Coordinated).
    - cron: '*/20 * * * *'

  # Izinkan menjalankan secara manual (opsional)
  workflow_dispatch:

jobs:
  filter_m3u:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout kode
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.x'

      - name: Install dependencies (requests)
        run: pip install requests

      - name: Jalankan Skrip Multi-Filter
        run: python download_m3u.py
        
      # Anda harus menambahkan langkah Git commit/push di sini
      # agar file M3U yang sudah difilter tersimpan kembali di repositori.
